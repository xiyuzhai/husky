%!TEX TS-program = xelatex
\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fvextra}
\usepackage{tcolorbox}
\usepackage{listings}
\usepackage{amsthm}
\usepackage{fontspec}  % For Unicode support
\setmonofont{DejaVu Sans Mono}  % For monospace/code blocks
\usepackage{unicode-math}
% \setmathfont{XITS Math}  % Or another Unicode math font
\newtheorem{example}{Example}
\fvset{breaklines=true}



\begin{document}
\lstdefinelanguage{Lean4}{
    breaklines=true,
    basicstyle=\ttfamily\normalsize,
    keepspaces=true,
    morekeywords={
        def, theorem, lemma, example, have, show, calc, let, assume, by, exact,
        sorry, obvious, Type, Prop, where, with, extends, class, instance,
        structure, inductive, mutual, coinductive, variable, variables,
        universe, universes, deriving, abbrev, partial, terminating,
        namespace, import, open, export, private, protected, public,
        noncomputable, unsafe, macro, syntax, macro_rules, set_option,
        attribute, local, scoped, section, end, match, fun, if, then, else,
        return, do, for, in, while, break, continue, try, catch, throw,
        mut, pure, opaque
    },
    morekeywords=[2]{
        ℕ, ℝ, ∈, ≥, ≤, →, ∀, ∃, ⊢, ∧, ∨, ¬, ≠, ×, ⊗, ⊕, ∘, □, ◇, ∎,
        ⟨, ⟩, ⦃, ⦄, ▸, ≈, ∼, ≡, ⌊, ⌋, ⌈, ⌉
    },
    morecomment=[l]--,     % Line comments start with --
    morestring=[b]",       % Strings in double quotes
    sensitive=true,         % Case-sensitive
    keywordstyle=\color{blue}\bfseries,      % Regular keywords in blue and bold
    keywordstyle=[2]\color{purple}\bfseries, % Special symbols in purple and bold
    commentstyle=\color{green!50!black},     % Comments in dark green
    stringstyle=\color{red},                 % Strings in red
}



\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Prove that for all real numbers $a$ and $b$:
    $$(a+b)^2 \geq 0.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
Trivial since the square of any real number is non-negative.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
Trivial since the square of any real number is non-negative.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
Let $a\in\mathbb{R}$.
Let $b\in\mathbb{R}$.
The goal is to prove ${{(a+b)}}^2 \ge 0$.
We have ${{(a+b)}}^2 \geq 0$.
\end{tcolorbox}

Lean 4 code:
\begin{tcolorbox}[colback=white!10, width=\linewidth]
\begin{lstlisting}[language=Lean4]
import Mathlib
syntax "attack" : tactic

macro_rules
| `(tactic| attack) => `(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; rw [Real.sq_sqrt]; ring; all_goals attack; done
  | nlinarith; done
  | apply sq_nonneg; all_goals attack; done
  | apply div_nonneg; all_goals attack; done
  | field_simp; ring; done
  | linarith; done
)

macro "obvious": tactic =>`(tactic|
  first
  | attack; done
  | congr; all_goals attack; done
  | gcongr; all_goals attack; done
  | fail "Could not prove this goal automatically. It might not be as obvious as you think!"
)

macro "in_set" : term => `(true)


macro "term_trivial": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "old_main_hypothesis": tactic =>`(tactic|
  first
  | assumption; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "let_assigned": tactic =>`(tactic|
  first
  | dsimp; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "term_equivalence": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "comm_ring": tactic =>`(tactic|
  first
  | ring; done
  | ring_nf; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_reduce": tactic =>`(tactic|
  first
  | simp; done
  | simp [*]; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_bound": tactic =>`(tactic|
  first
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

def h (a b : ℝ) : (a + b) ^ 2 ≥ (0 : ℝ) := by
  have h1 : (a + b) ^ 2 ≥ (0 : ℝ) := by apply sq_nonneg
  obvious

\end{lstlisting}
\end{tcolorbox}


\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Prove that for any positive real numbers $x$ and $y$:
    $$\frac{x+y}{2} \geq \sqrt{xy}.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
Since $x$ and $y$ are positive, $(\sqrt x - \sqrt y)^2 \ge 0$. Thus $\frac{x+y}{2} \ge \sqrt{xy}$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
Since $x$ and $y$ are positive, $(\sqrt x - \sqrt y)^2 = (\sqrt x)^2 - 2\sqrt x \sqrt y + (\sqrt y)^2 = x - 2\sqrt{xy} + y \ge 0$. Thus $x + y \ge 2\sqrt{xy}$, so $\frac{x+y}{2} \ge \sqrt{xy}$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
Let $x\in\mathbb{R}$. Assume $x\ge 0$.
Let $y\in\mathbb{R}$. Assume $y\ge 0$.
The goal is to prove $\frac{x+y}{2} \ge \sqrt{xy}$.
We have ${{(\sqrt x - \sqrt y)}}^2 = {{(\sqrt x)}}^2 - 2\sqrt x \sqrt y + {{(\sqrt y)}}^2$.
We have ${{(\sqrt x)}}^2 - 2\sqrt x \sqrt y + {{(\sqrt y)}}^2 = x - 2\sqrt{xy} + y$.
We have $x - 2\sqrt{xy} + y \ge 0$.
We have ${{(\sqrt x - \sqrt y)}}^2 \ge 0$.
We have $x + y \ge 2\sqrt{xy}$.
We have $\frac{x+y}{2} \ge \sqrt{xy}$.
\end{tcolorbox}

Lean 4 code:
\begin{tcolorbox}[colback=white!10, width=\linewidth]
\begin{lstlisting}[language=Lean4]
import Mathlib
syntax "attack" : tactic

macro_rules
| `(tactic| attack) => `(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; rw [Real.sq_sqrt]; ring; all_goals attack; done
  | nlinarith; done
  | apply sq_nonneg; all_goals attack; done
  | apply div_nonneg; all_goals attack; done
  | field_simp; ring; done
  | linarith; done
)

macro "obvious": tactic =>`(tactic|
  first
  | attack; done
  | congr; all_goals attack; done
  | gcongr; all_goals attack; done
  | fail "Could not prove this goal automatically. It might not be as obvious as you think!"
)

macro "in_set" : term => `(true)


macro "term_trivial": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "old_main_hypothesis": tactic =>`(tactic|
  first
  | assumption; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "let_assigned": tactic =>`(tactic|
  first
  | dsimp; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "term_equivalence": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "comm_ring": tactic =>`(tactic|
  first
  | ring; done
  | ring_nf; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_reduce": tactic =>`(tactic|
  first
  | simp; done
  | simp [*]; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_bound": tactic =>`(tactic|
  first
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

def h (x : ℝ) (h1 : x ≥ (0 : ℝ)) (y : ℝ) (h2 : y ≥ (0 : ℝ)) : (x + y) / (2 : ℝ) ≥ √ (x * y) := by
  have h3 : (√ x - √ y) ^ 2 = √ x ^ 2 - (2 : ℝ) * √ x * √ y + √ y ^ 2 := by obvious
  have h4 : √ x ^ 2 - (2 : ℝ) * √ x * √ y + √ y ^ 2 = x - (2 : ℝ) * √ (x * y) + y := by obvious
  have h5 : x - (2 : ℝ) * √ (x * y) + y ≥ (0 : ℝ) := by obvious
  have h6 : (√ x - √ y) ^ 2 ≥ (0 : ℝ) := by apply sq_nonneg
  have h7 : x + y ≥ (2 : ℝ) * √ (x * y) := by
    have d : x = x := by term_derivation_reflection
    have d1 : 2 = 2 := by term_derivation_reflection
    have d2 : x = x := by term_derivation_reflection
    have d3 : y = y := by term_derivation_reflection
    have d4 : x * y = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_atom_mul_atom
    have d5 : x * y = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_mul_eq
    have d6 : √ (x * y) = (1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_sqrt
    have d7 : 2 * 1 = 2 := by term_derivation_literal_mul_literal
    have d8 : (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d9 : (2 : ℝ) * ((1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_product
    have d10 : (2 : ℝ) * √ (x * y) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_eq
    have d11 : (-((2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) : ℝ) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_neg_product
    have d12 : (-((2 : ℝ) * √ (x * y)) : ℝ) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_neg_eq
    have d13 : x + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_atom_add_product
    have d14 : x + (-((2 : ℝ) * √ (x * y)) : ℝ) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_add_eq d d12 eq_identity_coercion eq_identity_coercion d13
    have d15 : x - (2 : ℝ) * √ (x * y) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_sub_eqs_add_neg
    have d16 : y = y := by term_derivation_reflection
    have d17 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_reflection
    have d18 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d19 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_sum_add_product_greater
    have d20 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) + y = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_add_atom d19
    have d21 : x - (2 : ℝ) * √ (x * y) + y = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_add_eq d15 d16 eq_identity_coercion eq_identity_coercion d20
    have d22 : 0 = 0 := by term_derivation_reflection
    have d23 : x = x := by term_derivation_reflection
    have d24 : x ^ 1 = x := by term_derivation_power_one
    have d25 : (1 : ℝ) * x ^ 1 = x := by term_derivation_one_mul
    have d26 : (0 : ℝ) + (1 : ℝ) * x ^ 1 = x := by term_derivation_zero_add
    have d27 : y = y := by term_derivation_reflection
    have d28 : y ^ 1 = y := by term_derivation_power_one
    have d29 : (1 : ℝ) * y ^ 1 = y := by term_derivation_one_mul
    have d30 : x + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_atom_add_product
    have d31 : x + y = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_add_atom d30
    have d32 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_add_eq d26 d29 eq_identity_coercion eq_identity_coercion d31
    have d33 : (-2 : ℤ) = (-2 : ℤ) := by term_derivation_reflection
    have d34 : x = x := by term_derivation_reflection
    have d35 : x ^ 1 = x := by term_derivation_power_one
    have d36 : y = y := by term_derivation_reflection
    have d37 : y ^ 1 = y := by term_derivation_power_one
    have d38 : x * y = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_atom_mul_atom
    have d39 : x ^ 1 * y ^ 1 = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_mul_eq
    have d40 : (1 : ℝ) * (x ^ 1 * y ^ 1) = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_one_mul
    have d41 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d42 : ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_non_reduced_power
    have d43 : (-2 : ℤ) * (1 : ℤ) = (-2 : ℤ) := by term_derivation_literal_mul_literal
    have d44 : ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d45 : ((-2 : ℤ) : ℝ) * ((1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_product
    have d46 : ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_eq
    have d47 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d48 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_add_eq d32 d46 eq_identity_coercion eq_identity_coercion d47
    have d49 : (-(0 : ℤ) : ℤ) = 0 := by term_derivation_neg_literal
    have d50 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) + (0 : ℝ) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_nf_add_zero
    have d51 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) + ((-(0 : ℤ) : ℤ) : ℝ) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_add_eq d48 d49 eq_identity_coercion eq_nat_to_real_coercion d50
    have d52 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) - (0 : ℝ) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_sub_eqs_add_neg
    have d53 : x - (2 : ℝ) * √ (x * y) + y ≥ (0 : ℝ) ↔ (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) ≥ (0 : ℝ) := by term_derivation_num_comparison
    have d54 : x = x := by term_derivation_reflection
    have d55 : y = y := by term_derivation_reflection
    have d56 : x + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_atom_add_product
    have d57 : x + y = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_add_atom d56
    have d58 : x + y = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_add_eq d54 d55 eq_identity_coercion eq_identity_coercion d57
    have d59 : 2 = 2 := by term_derivation_reflection
    have d60 : x = x := by term_derivation_reflection
    have d61 : y = y := by term_derivation_reflection
    have d62 : x * y = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_atom_mul_atom
    have d63 : x * y = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_mul_eq
    have d64 : √ (x * y) = (1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_sqrt
    have d65 : 2 * 1 = 2 := by term_derivation_literal_mul_literal
    have d66 : (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d67 : (2 : ℝ) * ((1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_product
    have d68 : (2 : ℝ) * √ (x * y) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_eq
    have d69 : x = x := by term_derivation_reflection
    have d70 : x ^ 1 = x := by term_derivation_power_one
    have d71 : (1 : ℝ) * x ^ 1 = x := by term_derivation_one_mul
    have d72 : (0 : ℝ) + (1 : ℝ) * x ^ 1 = x := by term_derivation_zero_add
    have d73 : y = y := by term_derivation_reflection
    have d74 : y ^ 1 = y := by term_derivation_power_one
    have d75 : (1 : ℝ) * y ^ 1 = y := by term_derivation_one_mul
    have d76 : x + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_atom_add_product
    have d77 : x + y = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_add_atom d76
    have d78 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 := by term_derivation_add_eq d72 d75 eq_identity_coercion eq_identity_coercion d77
    have d79 : 2 = 2 := by term_derivation_reflection
    have d80 : x = x := by term_derivation_reflection
    have d81 : x ^ 1 = x := by term_derivation_power_one
    have d82 : y = y := by term_derivation_reflection
    have d83 : y ^ 1 = y := by term_derivation_power_one
    have d84 : x * y = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_atom_mul_atom
    have d85 : x ^ 1 * y ^ 1 = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_mul_eq
    have d86 : (1 : ℝ) * (x ^ 1 * y ^ 1) = (1 : ℝ) * (x ^ 1 * y ^ 1) := by term_derivation_one_mul
    have d87 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d88 : ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_non_reduced_power
    have d89 : 2 * 1 = 2 := by term_derivation_literal_mul_literal
    have d90 : (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d91 : (2 : ℝ) * ((1 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_product
    have d92 : (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_mul_eq
    have d93 : (-((2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) : ℝ) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_neg_product
    have d94 : (-((2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) : ℝ) = ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_neg_eq
    have d95 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_reflection
    have d96 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + (-((2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2)) : ℝ) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_add_eq d78 d94 eq_identity_coercion eq_identity_coercion d95
    have d97 : (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 - (2 : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) = (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) := by term_derivation_sub_eqs_add_neg
    have d98 : x + y ≥ (2 : ℝ) * √ (x * y) ↔ (0 : ℝ) + (1 : ℝ) * x ^ 1 + (1 : ℝ) * y ^ 1 + ((-2 : ℤ) : ℝ) * ((1 : ℝ) * (x ^ 1 * y ^ 1)) ^ ((1 : ℚ) / 2) ≥ (0 : ℝ) := by term_derivation_num_comparison
    have d99 : x + y ≥ (2 : ℝ) * √ (x * y) := by term_derivation_non_trivial_finish
    assumption
  have h8 : (x + y) / (2 : ℝ) ≥ √ (x * y) := by obvious
  obvious

\end{lstlisting}
\end{tcolorbox}


\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Show that for all real numbers $a$, $b$, and $c$:
    $$a^2 + b^2 + c^2 \geq ab + bc + ca.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
We have $2(a^2 + b^2 + c^2 - ab - bc - ca) = (a-b)^2 + (b-c)^2 + (c-a)^2 \ge 0$. Thus, $a^2 + b^2 + c^2 \geq ab + bc + ca$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
We have $2(a^2 + b^2 + c^2 - ab - bc - ca) = 2a^2 + 2b^2 + 2c^2 - 2ab - 2bc - 2ca = (a^2 - 2ab + b^2) + (b^2 - 2bc + c^2) + (c^2 - 2ca + a^2) = (a-b)^2 + (b-c)^2 + (c-a)^2 \ge 0$. Thus, $2(a^2 + b^2 + c^2 - ab - bc - ca) \ge 0$, so $a^2 + b^2 + c^2 - ab - bc - ca \ge 0$, and hence $a^2 + b^2 + c^2 \geq ab + bc + ca$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
Let $a\in\mathbb{R}$.
Let $b\in\mathbb{R}$.
Let $c\in\mathbb{R}$.
The goal is to prove $a^2 + b^2 + c^2 \geq ab + bc + ca$.
We have $2(a^2 + b^2 + c^2 - ab - bc - ca) = 2a^2 + 2b^2 + 2c^2 - 2ab - 2bc - 2ca = (a^2 - 2ab + b^2) + (b^2 - 2bc + c^2) + (c^2 - 2ca + a^2) = {(a-b)}^2 + {(b-c)}^2 + {(c-a)}^2$.
We have ${(a-b)}^2 + {(b-c)}^2 + {(c-a)}^2 \ge 0$.
We have $2(a^2 + b^2 + c^2 - ab - bc - ca) \ge 0$.
We have $a^2 + b^2 + c^2 - ab - bc - ca \ge 0$.
We have $a^2 + b^2 + c^2 \geq ab + bc + ca$.
\end{tcolorbox}

Lean 4 code:
\begin{tcolorbox}[colback=white!10, width=\linewidth]
\begin{lstlisting}[language=Lean4]
import Mathlib
syntax "attack" : tactic

macro_rules
| `(tactic| attack) => `(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; rw [Real.sq_sqrt]; ring; all_goals attack; done
  | nlinarith; done
  | apply sq_nonneg; all_goals attack; done
  | apply div_nonneg; all_goals attack; done
  | field_simp; ring; done
  | linarith; done
)

macro "obvious": tactic =>`(tactic|
  first
  | attack; done
  | congr; all_goals attack; done
  | gcongr; all_goals attack; done
  | fail "Could not prove this goal automatically. It might not be as obvious as you think!"
)

macro "in_set" : term => `(true)


macro "term_trivial": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "old_main_hypothesis": tactic =>`(tactic|
  first
  | assumption; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "let_assigned": tactic =>`(tactic|
  first
  | dsimp; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "term_equivalence": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "comm_ring": tactic =>`(tactic|
  first
  | ring; done
  | ring_nf; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_reduce": tactic =>`(tactic|
  first
  | simp; done
  | simp [*]; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_bound": tactic =>`(tactic|
  first
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

def h (a b c : ℝ) : a ^ 2 + b ^ 2 + c ^ 2 ≥ a * b + b * c + c * a := by
  first
  | have h1 : (2 : ℝ) * (a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a) = (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 := by calc
    (2 : ℝ) * (a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a) = (2 : ℝ) * a ^ 2 + (2 : ℝ) * b ^ 2 + (2 : ℝ) * c ^ 2 - (2 : ℝ) * a * b - (2 : ℝ) * b * c - (2 : ℝ) * c * a := by obvious
    _ = a ^ 2 - (2 : ℝ) * a * b + b ^ 2 + (b ^ 2 - (2 : ℝ) * b * c + c ^ 2) + (c ^ 2 - (2 : ℝ) * c * a + a ^ 2) := by obvious
    _ = (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 := by obvious
  | have h2 : (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 = (2 : ℝ) * (a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a) := by calc
    (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 = a ^ 2 - (2 : ℝ) * a * b + b ^ 2 + (b ^ 2 - (2 : ℝ) * b * c + c ^ 2) + (c ^ 2 - (2 : ℝ) * c * a + a ^ 2) := by obvious
    _ = (2 : ℝ) * a ^ 2 + (2 : ℝ) * b ^ 2 + (2 : ℝ) * c ^ 2 - (2 : ℝ) * a * b - (2 : ℝ) * b * c - (2 : ℝ) * c * a := by obvious
    _ = (2 : ℝ) * (a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a) := by obvious
  have h3 : (a - b) ^ 2 + (b - c) ^ 2 + (c - a) ^ 2 ≥ (0 : ℝ) := by obvious
  have h4 : (2 : ℝ) * (a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a) ≥ (0 : ℝ) := by obvious
  have h5 : a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a ≥ (0 : ℝ) := by litnum_bound
  have h6 : a ^ 2 + b ^ 2 + c ^ 2 ≥ a * b + b * c + c * a := by
    have d : a = a := by term_derivation_reflection
    have d1 : 2 = 2 := by term_derivation_reflection
    have d2 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d3 : b = b := by term_derivation_reflection
    have d4 : 2 = 2 := by term_derivation_reflection
    have d5 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d6 : (1 : ℝ) * a ^ 2 + (1 : ℝ) * b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_product_add_product_greater
    have d7 : a ^ 2 + b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d2 d5 eq_identity_coercion eq_identity_coercion d6
    have d8 : c = c := by term_derivation_reflection
    have d9 : 2 = 2 := by term_derivation_reflection
    have d10 : c ^ 2 = (1 : ℝ) * c ^ 2 := by term_derivation_non_reduced_power
    have d11 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d12 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d13 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d14 : a ^ 2 + b ^ 2 + c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d7 d10 eq_identity_coercion eq_identity_coercion d13
    have d15 : a = a := by term_derivation_reflection
    have d16 : b = b := by term_derivation_reflection
    have d17 : a * b = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d18 : a * b = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d19 : (-((1 : ℝ) * (b ^ 1 * a ^ 1)) : ℝ) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_neg_product
    have d20 : (-(a * b) : ℝ) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_neg_eq
    have d21 : (-1 : ℤ) = (-1 : ℤ) := by term_derivation_reflection
    have d22 : b = b := by term_derivation_reflection
    have d23 : b ^ 1 = b := by term_derivation_power_one
    have d24 : a = a := by term_derivation_reflection
    have d25 : a ^ 1 = a := by term_derivation_power_one
    have d26 : b * a = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d27 : b ^ 1 * a ^ 1 = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d28 : (-1 : ℤ) * (1 : ℤ) = (-1 : ℤ) := by term_derivation_literal_mul_literal
    have d29 : ((-1 : ℤ) : ℝ) * b ^ 1 = ((-1 : ℤ) : ℝ) * b ^ 1 := by term_derivation_reflection
    have d30 : ((-1 : ℤ) : ℝ) * b ^ 1 * a ^ 1 = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_simple_product_mul_exponential_less
    have d31 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d32 : ((-1 : ℤ) : ℝ) * ((1 : ℝ) * (b ^ 1 * a ^ 1)) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d33 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d34 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_zero_add
    have d35 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_product_add_product_less
    have d36 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_sum_add_product_greater
    have d37 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d38 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_sum_add_product_greater
    have d39 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d40 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d41 : a ^ 2 + b ^ 2 + c ^ 2 + (-(a * b) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d14 d20 eq_identity_coercion eq_identity_coercion d40
    have d42 : a ^ 2 + b ^ 2 + c ^ 2 - a * b = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sub_eqs_add_neg
    have d43 : b = b := by term_derivation_reflection
    have d44 : c = c := by term_derivation_reflection
    have d45 : b * c = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_atom_mul_atom
    have d46 : b * c = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_eq
    have d47 : (-((1 : ℝ) * (c ^ 1 * b ^ 1)) : ℝ) = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_neg_product
    have d48 : (-(b * c) : ℝ) = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_neg_eq
    have d49 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_reflection
    have d50 : a ^ 2 + b ^ 2 + c ^ 2 - a * b + (-(b * c) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d42 d48 eq_identity_coercion eq_identity_coercion d49
    have d51 : a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_sub_eqs_add_neg
    have d52 : c = c := by term_derivation_reflection
    have d53 : a = a := by term_derivation_reflection
    have d54 : c * a = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d55 : c * a = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d56 : (-((1 : ℝ) * (c ^ 1 * a ^ 1)) : ℝ) = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_neg_product
    have d57 : (-(c * a) : ℝ) = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_neg_eq
    have d58 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_reflection
    have d59 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d60 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_sum_add_product_greater
    have d61 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d62 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_sum_add_product_greater
    have d63 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d64 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d65 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_reflection
    have d66 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_sum_add_product_greater
    have d67 : a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c + (-(c * a) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d51 d57 eq_identity_coercion eq_identity_coercion d66
    have d68 : a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_sub_eqs_add_neg
    have d69 : 0 = 0 := by term_derivation_reflection
    have d70 : (-1 : ℤ) = (-1 : ℤ) := by term_derivation_reflection
    have d71 : b = b := by term_derivation_reflection
    have d72 : b ^ 1 = b := by term_derivation_power_one
    have d73 : a = a := by term_derivation_reflection
    have d74 : a ^ 1 = a := by term_derivation_power_one
    have d75 : b * a = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d76 : b ^ 1 * a ^ 1 = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d77 : (-1 : ℤ) * (1 : ℤ) = (-1 : ℤ) := by term_derivation_literal_mul_literal
    have d78 : ((-1 : ℤ) : ℝ) * b ^ 1 = ((-1 : ℤ) : ℝ) * b ^ 1 := by term_derivation_reflection
    have d79 : ((-1 : ℤ) : ℝ) * b ^ 1 * a ^ 1 = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_simple_product_mul_exponential_less
    have d80 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d81 : ((-1 : ℤ) : ℝ) * ((1 : ℝ) * (b ^ 1 * a ^ 1)) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d82 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d83 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_zero_add
    have d84 : (-1 : ℤ) = (-1 : ℤ) := by term_derivation_reflection
    have d85 : c = c := by term_derivation_reflection
    have d86 : c ^ 1 = c := by term_derivation_power_one
    have d87 : a = a := by term_derivation_reflection
    have d88 : a ^ 1 = a := by term_derivation_power_one
    have d89 : c * a = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d90 : c ^ 1 * a ^ 1 = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d91 : (-1 : ℤ) * (1 : ℤ) = (-1 : ℤ) := by term_derivation_literal_mul_literal
    have d92 : ((-1 : ℤ) : ℝ) * c ^ 1 = ((-1 : ℤ) : ℝ) * c ^ 1 := by term_derivation_reflection
    have d93 : ((-1 : ℤ) : ℝ) * c ^ 1 * a ^ 1 = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_simple_product_mul_exponential_less
    have d94 : ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d95 : ((-1 : ℤ) : ℝ) * ((1 : ℝ) * (c ^ 1 * a ^ 1)) = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d96 : ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d97 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_product_add_product_less
    have d98 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_add_eq d83 d96 eq_identity_coercion eq_identity_coercion d97
    have d99 : b = b := by term_derivation_reflection
    have d100 : 2 = 2 := by term_derivation_reflection
    have d101 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d102 : (1 : ℝ) * b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_one_mul
    have d103 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d104 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_add_eq d98 d102 eq_identity_coercion eq_identity_coercion d103
    have d105 : c = c := by term_derivation_reflection
    have d106 : 2 = 2 := by term_derivation_reflection
    have d107 : c ^ 2 = (1 : ℝ) * c ^ 2 := by term_derivation_non_reduced_power
    have d108 : (1 : ℝ) * c ^ 2 = (1 : ℝ) * c ^ 2 := by term_derivation_one_mul
    have d109 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d110 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_add_eq d104 d108 eq_identity_coercion eq_identity_coercion d109
    have d111 : a = a := by term_derivation_reflection
    have d112 : 2 = 2 := by term_derivation_reflection
    have d113 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d114 : (1 : ℝ) * a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_one_mul
    have d115 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d116 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d110 d114 eq_identity_coercion eq_identity_coercion d115
    have d117 : (-1 : ℤ) = (-1 : ℤ) := by term_derivation_reflection
    have d118 : c = c := by term_derivation_reflection
    have d119 : c ^ 1 = c := by term_derivation_power_one
    have d120 : b = b := by term_derivation_reflection
    have d121 : b ^ 1 = b := by term_derivation_power_one
    have d122 : c * b = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_atom_mul_atom
    have d123 : c ^ 1 * b ^ 1 = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_eq
    have d124 : (-1 : ℤ) * (1 : ℤ) = (-1 : ℤ) := by term_derivation_literal_mul_literal
    have d125 : ((-1 : ℤ) : ℝ) * c ^ 1 = ((-1 : ℤ) : ℝ) * c ^ 1 := by term_derivation_reflection
    have d126 : ((-1 : ℤ) : ℝ) * c ^ 1 * b ^ 1 = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_simple_product_mul_exponential_less
    have d127 : ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_product
    have d128 : ((-1 : ℤ) : ℝ) * ((1 : ℝ) * (c ^ 1 * b ^ 1)) = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_product
    have d129 : ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_eq
    have d130 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_reflection
    have d131 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d116 d129 eq_identity_coercion eq_identity_coercion d130
    have d132 : (-(0 : ℤ) : ℤ) = 0 := by term_derivation_neg_literal
    have d133 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) + (0 : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_nf_add_zero
    have d134 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) + ((-(0 : ℤ) : ℤ) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d131 d132 eq_identity_coercion eq_nat_to_real_coercion d133
    have d135 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) - (0 : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_sub_eqs_add_neg
    have d136 : a ^ 2 + b ^ 2 + c ^ 2 - a * b - b * c - c * a ≥ (0 : ℝ) ↔ (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) ≥ (0 : ℝ) := by term_derivation_num_comparison
    have d137 : a = a := by term_derivation_reflection
    have d138 : 2 = 2 := by term_derivation_reflection
    have d139 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d140 : b = b := by term_derivation_reflection
    have d141 : 2 = 2 := by term_derivation_reflection
    have d142 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d143 : (1 : ℝ) * a ^ 2 + (1 : ℝ) * b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_product_add_product_greater
    have d144 : a ^ 2 + b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d139 d142 eq_identity_coercion eq_identity_coercion d143
    have d145 : c = c := by term_derivation_reflection
    have d146 : 2 = 2 := by term_derivation_reflection
    have d147 : c ^ 2 = (1 : ℝ) * c ^ 2 := by term_derivation_non_reduced_power
    have d148 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d149 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d150 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d151 : a ^ 2 + b ^ 2 + c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d144 d147 eq_identity_coercion eq_identity_coercion d150
    have d152 : a = a := by term_derivation_reflection
    have d153 : b = b := by term_derivation_reflection
    have d154 : a * b = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d155 : a * b = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d156 : b = b := by term_derivation_reflection
    have d157 : c = c := by term_derivation_reflection
    have d158 : b * c = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_atom_mul_atom
    have d159 : b * c = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_eq
    have d160 : (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_product_add_product_less
    have d161 : a * b + b * c = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d155 d159 eq_identity_coercion eq_identity_coercion d160
    have d162 : c = c := by term_derivation_reflection
    have d163 : a = a := by term_derivation_reflection
    have d164 : c * a = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d165 : c * a = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d166 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_reflection
    have d167 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_reflection
    have d168 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_sum_add_product_greater
    have d169 : a * b + b * c + c * a = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d161 d165 eq_identity_coercion eq_identity_coercion d168
    have d170 : b = b := by term_derivation_reflection
    have d171 : 2 = 2 := by term_derivation_reflection
    have d172 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d173 : (1 : ℝ) * b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_one_mul
    have d174 : (0 : ℝ) + (1 : ℝ) * b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_zero_add
    have d175 : c = c := by term_derivation_reflection
    have d176 : 2 = 2 := by term_derivation_reflection
    have d177 : c ^ 2 = (1 : ℝ) * c ^ 2 := by term_derivation_non_reduced_power
    have d178 : (1 : ℝ) * c ^ 2 = (1 : ℝ) * c ^ 2 := by term_derivation_one_mul
    have d179 : (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_product_add_product_less
    have d180 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_add_eq d174 d178 eq_identity_coercion eq_identity_coercion d179
    have d181 : a = a := by term_derivation_reflection
    have d182 : 2 = 2 := by term_derivation_reflection
    have d183 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d184 : (1 : ℝ) * a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_one_mul
    have d185 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d186 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d180 d184 eq_identity_coercion eq_identity_coercion d185
    have d187 : b = b := by term_derivation_reflection
    have d188 : b ^ 1 = b := by term_derivation_power_one
    have d189 : a = a := by term_derivation_reflection
    have d190 : a ^ 1 = a := by term_derivation_power_one
    have d191 : b * a = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d192 : b ^ 1 * a ^ 1 = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d193 : (1 : ℝ) * (b ^ 1 * a ^ 1) = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_one_mul
    have d194 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_zero_add
    have d195 : c = c := by term_derivation_reflection
    have d196 : c ^ 1 = c := by term_derivation_power_one
    have d197 : a = a := by term_derivation_reflection
    have d198 : a ^ 1 = a := by term_derivation_power_one
    have d199 : c * a = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d200 : c ^ 1 * a ^ 1 = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d201 : (1 : ℝ) * (c ^ 1 * a ^ 1) = (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_one_mul
    have d202 : (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_product_add_product_less
    have d203 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_add_eq d194 d201 eq_identity_coercion eq_identity_coercion d202
    have d204 : c = c := by term_derivation_reflection
    have d205 : c ^ 1 = c := by term_derivation_power_one
    have d206 : b = b := by term_derivation_reflection
    have d207 : b ^ 1 = b := by term_derivation_power_one
    have d208 : c * b = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_atom_mul_atom
    have d209 : c ^ 1 * b ^ 1 = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_mul_eq
    have d210 : (1 : ℝ) * (c ^ 1 * b ^ 1) = (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_one_mul
    have d211 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_reflection
    have d212 : (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d203 d210 eq_identity_coercion eq_identity_coercion d211
    have d213 : (-(0 : ℤ) : ℤ) = 0 := by term_derivation_neg_literal
    have d214 : (-((1 : ℝ) * (b ^ 1 * a ^ 1)) : ℝ) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_neg_product
    have d215 : (-((0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1)) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_neg_sum
    have d216 : (-((1 : ℝ) * (c ^ 1 * a ^ 1)) : ℝ) = ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_neg_product
    have d217 : (-((0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1)) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_neg_sum
    have d218 : (-((1 : ℝ) * (c ^ 1 * b ^ 1)) : ℝ) = ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_neg_product
    have d219 : (-((0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1)) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_neg_sum
    have d220 : (-((0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1)) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_neg_eq
    have d221 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + (0 : ℝ) = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_nf_add_zero
    have d222 : (-1 : ℤ) = (-1 : ℤ) := by term_derivation_reflection
    have d223 : b = b := by term_derivation_reflection
    have d224 : b ^ 1 = b := by term_derivation_power_one
    have d225 : a = a := by term_derivation_reflection
    have d226 : a ^ 1 = a := by term_derivation_power_one
    have d227 : b * a = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_atom_mul_atom
    have d228 : b ^ 1 * a ^ 1 = (1 : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d229 : (-1 : ℤ) * (1 : ℤ) = (-1 : ℤ) := by term_derivation_literal_mul_literal
    have d230 : ((-1 : ℤ) : ℝ) * b ^ 1 = ((-1 : ℤ) : ℝ) * b ^ 1 := by term_derivation_reflection
    have d231 : ((-1 : ℤ) : ℝ) * b ^ 1 * a ^ 1 = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_simple_product_mul_exponential_less
    have d232 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d233 : ((-1 : ℤ) : ℝ) * ((1 : ℝ) * (b ^ 1 * a ^ 1)) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_product
    have d234 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_mul_eq
    have d235 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) := by term_derivation_zero_add
    have d236 : ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_product_add_product_less
    have d237 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_sum_add_product_greater
    have d238 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d239 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_sum_add_product_greater
    have d240 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d241 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d242 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1)) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_sum
    have d243 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) := by term_derivation_reflection
    have d244 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d245 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 := by term_derivation_sum_add_product_greater
    have d246 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_reflection
    have d247 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 := by term_derivation_sum_add_product_greater
    have d248 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d249 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d250 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1)) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_sum
    have d251 : (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_reflection
    have d252 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1)) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_sum
    have d253 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + (-((0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1)) : ℝ) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_add_eq d186 d220 eq_identity_coercion eq_identity_coercion d252
    have d254 : (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 - ((0 : ℝ) + (1 : ℝ) * (b ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * (c ^ 1 * b ^ 1)) = (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) := by term_derivation_sub_eqs_add_neg
    have d255 : a ^ 2 + b ^ 2 + c ^ 2 ≥ a * b + b * c + c * a ↔ (0 : ℝ) + ((-1 : ℤ) : ℝ) * (b ^ 1 * a ^ 1) + ((-1 : ℤ) : ℝ) * (c ^ 1 * a ^ 1) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * c ^ 2 + (1 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * (c ^ 1 * b ^ 1) ≥ (0 : ℝ) := by term_derivation_num_comparison
    have d256 : a ^ 2 + b ^ 2 + c ^ 2 ≥ a * b + b * c + c * a := by term_derivation_non_trivial_finish
    assumption
  obvious

\end{lstlisting}
\end{tcolorbox}


\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Prove that for any positive real number $x$:
    $$x + \frac{1}{x} \geq 2.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
Since $(x-1)^2 \ge 0$ for all $x$, dividing by $x$ gives $x + \frac{1}{x} - 2 \ge 0$, so $x + \frac{1}{x} \ge 2$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
Since $(x-1)^2 = x^2 - 2x + 1 \ge 0$ for all $x$, dividing by $x$ gives $\frac{x^2 - 2x + 1}{x} = x + \frac{1}{x} - 2 \ge 0$, so $x + \frac{1}{x} \ge 2$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
Let $x\in\mathbb{R}$. Assume $x>0$.
The goal is to prove $x + \frac{1}{x} \ge 2$.
We have ${\left(x-1\right)}^2 = x^2 - 2x + 1 \ge 0$.
We have $\frac{x^2 - 2x + 1}{x} = x + \frac{1}{x} - 2 \ge 0$ by dividing by $x$.
We have $x + \frac{1}{x} \ge 2$.
\end{tcolorbox}

Lean 4 code:
\begin{tcolorbox}[colback=white!10, width=\linewidth]
\begin{lstlisting}[language=Lean4]
import Mathlib
syntax "attack" : tactic

macro_rules
| `(tactic| attack) => `(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; rw [Real.sq_sqrt]; ring; all_goals attack; done
  | nlinarith; done
  | apply sq_nonneg; all_goals attack; done
  | apply div_nonneg; all_goals attack; done
  | field_simp; ring; done
  | linarith; done
)

macro "obvious": tactic =>`(tactic|
  first
  | attack; done
  | congr; all_goals attack; done
  | gcongr; all_goals attack; done
  | fail "Could not prove this goal automatically. It might not be as obvious as you think!"
)

macro "in_set" : term => `(true)


macro "term_trivial": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "old_main_hypothesis": tactic =>`(tactic|
  first
  | assumption; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "let_assigned": tactic =>`(tactic|
  first
  | dsimp; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "term_equivalence": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "comm_ring": tactic =>`(tactic|
  first
  | ring; done
  | ring_nf; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_reduce": tactic =>`(tactic|
  first
  | simp; done
  | simp [*]; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_bound": tactic =>`(tactic|
  first
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

def h (x : ℝ) (h1 : x > (0 : ℝ)) : x + (1 : ℝ) / x ≥ (2 : ℝ) := by
  first
  | have h2 : (x - (1 : ℝ)) ^ 2 ≥ (0 : ℝ) := by calc
    (x - (1 : ℝ)) ^ 2 = x ^ 2 - (2 : ℝ) * x + (1 : ℝ) := by obvious
    _ ≥ 0 : ℝ := by obvious
  | have h3 : x ^ 2 - (2 : ℝ) * x + (1 : ℝ) ≥ (0 : ℝ) := by calc
    x ^ 2 - (2 : ℝ) * x + (1 : ℝ) = (x - (1 : ℝ)) ^ 2 := by obvious
    _ ≥ 0 : ℝ := by obvious
  first
  | have h4 : (x ^ 2 - (2 : ℝ) * x + (1 : ℝ)) / x ≥ (0 : ℝ) := by calc
    (x ^ 2 - (2 : ℝ) * x + (1 : ℝ)) / x = x + (1 : ℝ) / x - (2 : ℝ) := by obvious
    _ ≥ 0 : ℝ := by obvious
  | have h5 : x + (1 : ℝ) / x - (2 : ℝ) ≥ (0 : ℝ) := by calc
    x + (1 : ℝ) / x - (2 : ℝ) = (x ^ 2 - (2 : ℝ) * x + (1 : ℝ)) / x := by obvious
    _ ≥ 0 : ℝ := by obvious
  have h6 : x + (1 : ℝ) / x ≥ (2 : ℝ) := by obvious
  obvious

\end{lstlisting}
\end{tcolorbox}


\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
For positive real numbers $a$ and $b$, prove:
    $$\left(\frac{a+b}{2}\right)^2 \leq \frac{a^2+b^2}{2}.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
We have
$ \frac{a^2+b^2}{2} - \left(\frac{a+b}{2}\right)^2 = \frac{(a-b)^2}{4} \ge 0. $
Thus, the inequality holds.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
We have
$ \frac{a^2+b^2}{2} - \left(\frac{a+b}{2}\right)^2 = \frac{2a^2+2b^2}{4} - \frac{a^2+2ab+b^2}{4} = \frac{a^2-2ab+b^2}{4} = \frac{(a-b)^2}{4} \ge 0. $
Thus, the inequality holds.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
Let $a\in\mathbb{R}$.
Let $b\in\mathbb{R}$.
The goal is to prove $\frac{a^2+b^2}{2} \ge {\left(\frac{a+b}{2}\right)}^2$.
We have $\frac{a^2+b^2}{2} - {\left(\frac{a+b}{2}\right)}^2 = \frac{2a^2+2b^2}{4} - \frac{a^2+2ab+b^2}{4} = \frac{a^2-2ab+b^2}{4} = \frac{{{(a-b)}}^2}{4} \ge 0$.
We have $\frac{a^2+b^2}{2} - {\left(\frac{a+b}{2}\right)}^2 \ge 0$.
We have $\frac{a^2+b^2}{2} \ge {\left(\frac{a+b}{2}\right)}^2$.
\end{tcolorbox}

Lean 4 code:
\begin{tcolorbox}[colback=white!10, width=\linewidth]
\begin{lstlisting}[language=Lean4]
import Mathlib
syntax "attack" : tactic

macro_rules
| `(tactic| attack) => `(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; rw [Real.sq_sqrt]; ring; all_goals attack; done
  | nlinarith; done
  | apply sq_nonneg; all_goals attack; done
  | apply div_nonneg; all_goals attack; done
  | field_simp; ring; done
  | linarith; done
)

macro "obvious": tactic =>`(tactic|
  first
  | attack; done
  | congr; all_goals attack; done
  | gcongr; all_goals attack; done
  | fail "Could not prove this goal automatically. It might not be as obvious as you think!"
)

macro "in_set" : term => `(true)


macro "term_trivial": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "old_main_hypothesis": tactic =>`(tactic|
  first
  | assumption; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "let_assigned": tactic =>`(tactic|
  first
  | dsimp; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "term_equivalence": tactic =>`(tactic|
  first
  | simp; done
  | ring; done
  | ring_nf; done
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "comm_ring": tactic =>`(tactic|
  first
  | ring; done
  | ring_nf; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_reduce": tactic =>`(tactic|
  first
  | simp; done
  | simp [*]; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

macro "litnum_bound": tactic =>`(tactic|
  first
  | linarith; done
  | fail "Could not prove this goal automatically. Afterall, this is an ad hoc implementation."
)

def h (a b : ℝ) : (a ^ 2 + b ^ 2) / (2 : ℝ) ≥ ((a + b) / (2 : ℝ)) ^ 2 := by
  first
  | have h1 : (a ^ 2 + b ^ 2) / (2 : ℝ) - ((a + b) / (2 : ℝ)) ^ 2 ≥ (0 : ℝ) := by calc
    (a ^ 2 + b ^ 2) / (2 : ℝ) - ((a + b) / (2 : ℝ)) ^ 2 = ((2 : ℝ) * a ^ 2 + (2 : ℝ) * b ^ 2) / (4 : ℝ) - (a ^ 2 + (2 : ℝ) * a * b + b ^ 2) / (4 : ℝ) := by obvious
    _ = (a ^ 2 - (2 : ℝ) * a * b + b ^ 2) / (4 : ℝ) := by obvious
    _ = (a - b) ^ 2 / (4 : ℝ) := by obvious
    _ ≥ 0 : ℝ := by obvious
  | have h2 : (a - b) ^ 2 / (4 : ℝ) ≥ (0 : ℝ) := by calc
    (a - b) ^ 2 / (4 : ℝ) = (a ^ 2 - (2 : ℝ) * a * b + b ^ 2) / (4 : ℝ) := by obvious
    _ = ((2 : ℝ) * a ^ 2 + (2 : ℝ) * b ^ 2) / (4 : ℝ) - (a ^ 2 + (2 : ℝ) * a * b + b ^ 2) / (4 : ℝ) := by obvious
    _ = (a ^ 2 + b ^ 2) / (2 : ℝ) - ((a + b) / (2 : ℝ)) ^ 2 := by obvious
    _ ≥ 0 : ℝ := by obvious
  have h3 : (a ^ 2 + b ^ 2) / (2 : ℝ) - ((a + b) / (2 : ℝ)) ^ 2 ≥ (0 : ℝ) := by obvious
  have h4 : (a ^ 2 + b ^ 2) / (2 : ℝ) ≥ ((a + b) / (2 : ℝ)) ^ 2 := by
    have d : a = a := by term_derivation_reflection
    have d1 : 2 = 2 := by term_derivation_reflection
    have d2 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d3 : b = b := by term_derivation_reflection
    have d4 : 2 = 2 := by term_derivation_reflection
    have d5 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d6 : (1 : ℝ) * a ^ 2 + (1 : ℝ) * b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_product_add_product_greater
    have d7 : a ^ 2 + b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d2 d5 eq_identity_coercion eq_identity_coercion d6
    have d8 : 2 = 2 := by term_derivation_reflection
    have d9 : ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) * ((1 : ℚ) / 2 : ℝ) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) ^ 1 := by term_derivation_base_mul_literal
    have d10 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2) ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d11 : (1 : ℚ) / 2 * (0 : ℚ) = 0 := by term_derivation_literal_mul_literal
    have d12 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d13 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d14 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * b ^ 2) = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_mul_product
    have d15 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_literal_mul_sum
    have d16 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d17 : ((1 : ℚ) / 2 : ℝ) * a ^ 2 = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d18 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * a ^ 2) = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_mul_product
    have d19 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_literal_mul_sum
    have d20 : ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_div_literal
    have d21 : (a ^ 2 + b ^ 2) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_div_eq
    have d22 : a = a := by term_derivation_reflection
    have d23 : b = b := by term_derivation_reflection
    have d24 : a + (1 : ℝ) * b ^ 1 = (0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1 := by term_derivation_atom_add_product
    have d25 : a + b = (0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1 := by term_derivation_add_atom d24
    have d26 : a + b = (0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1 := by term_derivation_add_eq d22 d23 eq_identity_coercion eq_identity_coercion d25
    have d27 : 2 = 2 := by term_derivation_reflection
    have d28 : ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) * ((1 : ℚ) / 2 : ℝ) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) ^ 1 := by term_derivation_base_mul_literal
    have d29 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1) ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d30 : (1 : ℚ) / 2 * (0 : ℚ) = 0 := by term_derivation_literal_mul_literal
    have d31 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d32 : ((1 : ℚ) / 2 : ℝ) * b ^ 1 = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_reflection
    have d33 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * b ^ 1) = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_mul_product
    have d34 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_literal_mul_sum
    have d35 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d36 : ((1 : ℚ) / 2 : ℝ) * a ^ 1 = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_reflection
    have d37 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * a ^ 1) = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_mul_product
    have d38 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_literal_mul_sum
    have d39 : ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_div_literal
    have d40 : (a + b) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_div_eq
    have d41 : 2 = 2 := by term_derivation_reflection
    have d42 : ((a + b) / (2 : ℝ)) ^ 2 = (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_non_reduced_power
    have d43 : (-((1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2) : ℝ) = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_neg_product
    have d44 : (-((a + b) / (2 : ℝ)) ^ 2 : ℝ) = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_neg_eq
    have d45 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_reflection
    have d46 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d47 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d48 : (a ^ 2 + b ^ 2) / (2 : ℝ) + (-((a + b) / (2 : ℝ)) ^ 2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_add_eq d21 d44 eq_identity_coercion eq_identity_coercion d47
    have d49 : (a ^ 2 + b ^ 2) / (2 : ℝ) - ((a + b) / (2 : ℝ)) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_sub_eqs_add_neg
    have d50 : 0 = 0 := by term_derivation_reflection
    have d51 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d52 : b = b := by term_derivation_reflection
    have d53 : 2 = 2 := by term_derivation_reflection
    have d54 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d55 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d56 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d57 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * b ^ 2) = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_mul_product
    have d58 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_mul_eq
    have d59 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_zero_add
    have d60 : (-1 : ℤ) = (-1 : ℤ) := by term_derivation_reflection
    have d61 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d62 : b = b := by term_derivation_reflection
    have d63 : b ^ 1 = b := by term_derivation_power_one
    have d64 : ((1 : ℚ) / 2 : ℝ) * b = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d65 : ((1 : ℚ) / 2 : ℝ) * b ^ 1 = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_mul_eq
    have d66 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_zero_add
    have d67 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d68 : a = a := by term_derivation_reflection
    have d69 : a ^ 1 = a := by term_derivation_power_one
    have d70 : ((1 : ℚ) / 2 : ℝ) * a = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d71 : ((1 : ℚ) / 2 : ℝ) * a ^ 1 = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_mul_eq
    have d72 : ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_product_add_product_less
    have d73 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_add_eq d66 d71 eq_identity_coercion eq_identity_coercion d72
    have d74 : 2 = 2 := by term_derivation_reflection
    have d75 : ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_non_reduced_power
    have d76 : (-1 : ℤ) * (1 : ℤ) = (-1 : ℤ) := by term_derivation_literal_mul_literal
    have d77 : ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_reflection
    have d78 : ((-1 : ℤ) : ℝ) * ((1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2) = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_mul_product
    have d79 : ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_mul_eq
    have d80 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_product_add_product_less
    have d81 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_add_eq d59 d79 eq_identity_coercion eq_identity_coercion d80
    have d82 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d83 : a = a := by term_derivation_reflection
    have d84 : 2 = 2 := by term_derivation_reflection
    have d85 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d86 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d87 : ((1 : ℚ) / 2 : ℝ) * a ^ 2 = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d88 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * a ^ 2) = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_mul_product
    have d89 : ((1 : ℚ) / 2 : ℝ) * a ^ 2 = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_mul_eq
    have d90 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d91 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_add_eq d81 d89 eq_identity_coercion eq_identity_coercion d90
    have d92 : (-(0 : ℤ) : ℤ) = 0 := by term_derivation_neg_literal
    have d93 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 + (0 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_nf_add_zero
    have d94 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 + ((-(0 : ℤ) : ℤ) : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_add_eq d91 d92 eq_identity_coercion eq_nat_to_real_coercion d93
    have d95 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 - (0 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_sub_eqs_add_neg
    have d96 : (a ^ 2 + b ^ 2) / (2 : ℝ) - ((a + b) / (2 : ℝ)) ^ 2 ≥ (0 : ℝ) ↔ (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 ≥ (0 : ℝ) := by term_derivation_num_comparison
    have d97 : a = a := by term_derivation_reflection
    have d98 : 2 = 2 := by term_derivation_reflection
    have d99 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d100 : b = b := by term_derivation_reflection
    have d101 : 2 = 2 := by term_derivation_reflection
    have d102 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d103 : (1 : ℝ) * a ^ 2 + (1 : ℝ) * b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_product_add_product_greater
    have d104 : a ^ 2 + b ^ 2 = (0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2 := by term_derivation_add_eq d99 d102 eq_identity_coercion eq_identity_coercion d103
    have d105 : 2 = 2 := by term_derivation_reflection
    have d106 : ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) * ((1 : ℚ) / 2 : ℝ) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) ^ 1 := by term_derivation_base_mul_literal
    have d107 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2) ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d108 : (1 : ℚ) / 2 * (0 : ℚ) = 0 := by term_derivation_literal_mul_literal
    have d109 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d110 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d111 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * b ^ 2) = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_mul_product
    have d112 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_literal_mul_sum
    have d113 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d114 : ((1 : ℚ) / 2 : ℝ) * a ^ 2 = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d115 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * a ^ 2) = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_mul_product
    have d116 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_literal_mul_sum
    have d117 : ((0 : ℝ) + (1 : ℝ) * b ^ 2 + (1 : ℝ) * a ^ 2) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_div_literal
    have d118 : (a ^ 2 + b ^ 2) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_div_eq
    have d119 : a = a := by term_derivation_reflection
    have d120 : b = b := by term_derivation_reflection
    have d121 : a + (1 : ℝ) * b ^ 1 = (0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1 := by term_derivation_atom_add_product
    have d122 : a + b = (0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1 := by term_derivation_add_atom d121
    have d123 : a + b = (0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1 := by term_derivation_add_eq d119 d120 eq_identity_coercion eq_identity_coercion d122
    have d124 : 2 = 2 := by term_derivation_reflection
    have d125 : ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) * ((1 : ℚ) / 2 : ℝ) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) ^ 1 := by term_derivation_base_mul_literal
    have d126 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1) = ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1) ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d127 : (1 : ℚ) / 2 * (0 : ℚ) = 0 := by term_derivation_literal_mul_literal
    have d128 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d129 : ((1 : ℚ) / 2 : ℝ) * b ^ 1 = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_reflection
    have d130 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * b ^ 1) = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_mul_product
    have d131 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_literal_mul_sum
    have d132 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d133 : ((1 : ℚ) / 2 : ℝ) * a ^ 1 = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_reflection
    have d134 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * a ^ 1) = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_mul_product
    have d135 : ((1 : ℚ) / 2 : ℝ) * ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_literal_mul_sum
    have d136 : ((0 : ℝ) + (1 : ℝ) * b ^ 1 + (1 : ℝ) * a ^ 1) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_div_literal
    have d137 : (a + b) / (2 : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_div_eq
    have d138 : 2 = 2 := by term_derivation_reflection
    have d139 : ((a + b) / (2 : ℝ)) ^ 2 = (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_non_reduced_power
    have d140 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d141 : b = b := by term_derivation_reflection
    have d142 : 2 = 2 := by term_derivation_reflection
    have d143 : b ^ 2 = (1 : ℝ) * b ^ 2 := by term_derivation_non_reduced_power
    have d144 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d145 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_reflection
    have d146 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * b ^ 2) = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_mul_product
    have d147 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_mul_eq
    have d148 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 = ((1 : ℚ) / 2 : ℝ) * b ^ 2 := by term_derivation_zero_add
    have d149 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d150 : a = a := by term_derivation_reflection
    have d151 : 2 = 2 := by term_derivation_reflection
    have d152 : a ^ 2 = (1 : ℝ) * a ^ 2 := by term_derivation_non_reduced_power
    have d153 : (1 : ℚ) / 2 * (1 : ℚ) = (1 : ℚ) / 2 := by term_derivation_literal_mul_literal
    have d154 : ((1 : ℚ) / 2 : ℝ) * a ^ 2 = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d155 : ((1 : ℚ) / 2 : ℝ) * ((1 : ℝ) * a ^ 2) = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_mul_product
    have d156 : ((1 : ℚ) / 2 : ℝ) * a ^ 2 = ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_mul_eq
    have d157 : ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_product_add_product_less
    have d158 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_add_eq d148 d156 eq_identity_coercion eq_identity_coercion d157
    have d159 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d160 : b = b := by term_derivation_reflection
    have d161 : b ^ 1 = b := by term_derivation_power_one
    have d162 : ((1 : ℚ) / 2 : ℝ) * b = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d163 : ((1 : ℚ) / 2 : ℝ) * b ^ 1 = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_mul_eq
    have d164 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 = ((1 : ℚ) / 2 : ℝ) * b ^ 1 := by term_derivation_zero_add
    have d165 : (1 : ℚ) / 2 = (1 : ℚ) / 2 := by term_derivation_reflection
    have d166 : a = a := by term_derivation_reflection
    have d167 : a ^ 1 = a := by term_derivation_power_one
    have d168 : ((1 : ℚ) / 2 : ℝ) * a = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_non_one_literal_mul_atom
    have d169 : ((1 : ℚ) / 2 : ℝ) * a ^ 1 = ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_mul_eq
    have d170 : ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_product_add_product_less
    have d171 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1 := by term_derivation_add_eq d164 d169 eq_identity_coercion eq_identity_coercion d170
    have d172 : 2 = 2 := by term_derivation_reflection
    have d173 : ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_non_reduced_power
    have d174 : (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_one_mul
    have d175 : (-((1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2) : ℝ) = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_neg_product
    have d176 : (-((1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2) : ℝ) = ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_neg_eq
    have d177 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 := by term_derivation_reflection
    have d178 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_reflection
    have d179 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_sum_add_product_greater
    have d180 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 + (-((1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2) : ℝ) = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_add_eq d158 d176 eq_identity_coercion eq_identity_coercion d179
    have d181 : (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 - (1 : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 = (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 := by term_derivation_sub_eqs_add_neg
    have d182 : (a ^ 2 + b ^ 2) / (2 : ℝ) ≥ ((a + b) / (2 : ℝ)) ^ 2 ↔ (0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 2 + ((-1 : ℤ) : ℝ) * ((0 : ℝ) + ((1 : ℚ) / 2 : ℝ) * b ^ 1 + ((1 : ℚ) / 2 : ℝ) * a ^ 1) ^ 2 + ((1 : ℚ) / 2 : ℝ) * a ^ 2 ≥ (0 : ℝ) := by term_derivation_num_comparison
    have d183 : (a ^ 2 + b ^ 2) / (2 : ℝ) ≥ ((a + b) / (2 : ℝ)) ^ 2 := by term_derivation_non_trivial_finish
    assumption
  obvious

\end{lstlisting}
\end{tcolorbox}
\end{document}